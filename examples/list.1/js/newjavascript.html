<div class="control-group raw">
    <div id="wrapper">
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th class="name">Feld</th>
                    <th>Text vorher</th>
                    <th>Text jetzt</th>
                    <th>Unterschied</th>
                    <th>erlaubt</th>
                    <th>verboten</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="feld">Charakter</td>
                    <td class="original">This si text 1</td>
                    <td class="changed">This is text one</td>
                    <td class="diff1"></td>
                    <td class="status">
                        <input type="radio" name="ok[]" value="" />
                    </td>
                    <td class="status">
                        <input type="radio" name="ok[]" value="" />
                    </td>
                </tr>
                <tr>
                    <td class="feld">Vorlieben</td>
                    <td class="original">bin ne ganz liebe, die aber auch gut zicken kann</td>
                    <td class="changed">bin ne liebe, die aber auch gut zicken nicht kann</td>
                    <td class="diff1"></td>
                    <td class="status">
                        <input type="radio" name="ok[]" value="" />
                    </td>
                    <td class="status">
                        <input type="radio" name="ok[]" value="" />
                    </td>
                </tr>
                <tr>
                    <td class="feld">Abneigungen</td>
                    <td class="original">A sofa is here</td>
                    <td class="changed">Man(n) muss mich einfach erleben. Auf jeden Fall beiße ich nur auf Wunsch
                        - wer sich bei mir meldet, ist also nicht automatisch in akuter Lebensgefahr.
                        Vor allen Dingen, weil ich das Wort „nein“ dem Inhalt her deuten kann.
                        Ich würde mich freuen, hier ein paar nette Menschen kennen zu lernen.“</td>
                    <td
                    class="diff1"></td>
                        <td class="status">
                            <input type="radio" name="ok[]" value="" />
                        </td>
                        <td class="status">
                            <input type="radio" name="ok[]" value="" />
                        </td>
                </tr>
                <tr>
                    <td class="feld">Partnervorstellungen</td>
                    <td class="original">Finde es doch einfach heraus. Ich bin bei unter zu erreichen. Profile
                        ohne Bild werden direkt blockiert.</td>
                    <td class="changed">Finde es doch einfach heraus. Ich bin bei unter zu erreichen.</td>
                    <td
                    class="diff1"></td>
                        <td class="status">
                            <input type="radio" name="ok[]" value="" />
                        </td>
                        <td class="status">
                            <input type="radio" name="ok[]" value="" />
                        </td>
                </tr>
            </tbody>
        </table>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/diff_match_patch/20121119/diff_match_patch.js"
    type="text/javascript"></script>
    <script src="https://raw.githubusercontent.com/arnab/jQuery.PrettyTextDiff/master/jquery.pretty-text-diff.min.js"
    type="text/javascript"></script>
    <style>
        #wrapper .feld{
          font-weight:bold; 
        }
        #wrapper .name{
            width:122px; 
          }
           #wrapper ins {
              background-color: #c6ffc6;
              text-decoration: none;
          }
          
          #wrapper del {
              background-color: #ffc6c6;
          }
          
          #wrapper div, #wrapper table, #wrapper h3, #wrapper input, #wrapper label {
              margin: 10px;
          }
    </style>
    <script>
        $("#wrapper tr").prettyTextDiff({
            cleanup: true,
            diffContainer: ".diff1"
        });
        
        var intf = {
          interactions: {
            'dot': {
                'click': function (e) {
                    intfc.model.field = parseInt($(this).attr('data-value'));
                }
            }
          },
          model: { 
              'field': model[0] 
          },
          view: {
            templates_: {
              'tr' : ' <tr><td class="feld">{{potentialMatch.segment}}</td><td class="original">{{potentialMatch.old}}</td><td class="changed">{{potentialMatch.new}}</td><td class="diff1"></td><td class="status"><input type="radio" name="ok[{{index}}]" value="1" /></td><td class="status"><input type="radio" name="ok[{{index}}]" value="2" /></td></tr>'
            },
            templates: true,
            viewpath: 'view/twigInterface/',
            fileextension: 'html.twig',
            render: function (tplVars, tplName) {
                return twig({
                    data: intfc.view.templates_[tplName]
                }).render(tplVars);
            },
            views: {
                "foreach->potentialMatches": function (potentialMatch, index) {
                    return intfc.view.render({'index': index, 'potentialMatch': potentialMatch });
                }
            },
            event: {
                postRender: {
                    length: function ($scope) {
                        $scope.find('[data-toggle="popover"]').popover({
                            trigger: 'hover'
                        });
                    }
                }
            },
            init: function () {  
    
                Twig.extendFilter('highlight', function (str, main) { 
                    var mainParts = main[0].split(' ');
                    str = str.split(' ');
                    str.forEach(function (item, i, arr) {
                        if (mainParts.indexOf(arr[i]) !== -1) {
                            arr[i] = '<strong class="alert-success">' + arr[i] + '</strong>';
                        }
                    });
                    return str.join(' ');
                });
            }()
          }
        };
        
        $("#wrapper").klaster(intf);
      
    </script>
</div>